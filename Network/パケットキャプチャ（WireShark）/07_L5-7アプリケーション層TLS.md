- SSL=HTTP over SSL
- 3つの技術でデータを守る
  - 暗号化
  - ハッシュ化：ハッシュ値も改竄すれば良いのでは？と思った
    - ![image](https://user-images.githubusercontent.com/60077121/99600356-9c17a180-2a40-11eb-8ad2-614260f3a30f.png)
  - 証明書：なりすまし防止
  
# 共通鍵暗号化方式
  - 暗号化鍵と複合化鍵が同じ。
  - クライアントのサーバが同じ鍵を共有（ここがデメリット）
  
  - 方式
    - ストリーム暗号：迅速。1bitごとに暗号化。脆弱性あり、`RC4`など。使用されない。
    - ブロック暗号：データを一定のブロックに区切って暗号化。`AES`。よく使用される。
    
# 公開鍵暗号化方式
  - 鍵の配送なしに、クライアントからサーバに送る情報を暗号化できる。
  - 方式
    - `RSA`
    - `DH/DHE`（ディーフィー・ヘルマン鍵共有）
    - `ECDH/ECDHE`（楕円曲線ディーフィー・ヘルマン鍵共有）
  ![image](https://user-images.githubusercontent.com/60077121/99601323-8acf9480-2a42-11eb-98d9-44d3c51f8730.png)

# 比較
![image](https://user-images.githubusercontent.com/60077121/99601602-15b08f00-2a43-11eb-8f2c-b2bd4c2e17a1.png)

# SSLは良いとこどり
公開鍵暗号化方式で鍵配送の問題を解決し、共通鍵暗号化方式で暗号化して通信する
![image](https://user-images.githubusercontent.com/60077121/99601805-85267e80-2a43-11eb-9d0a-4d2a7d394c9b.png)

# ハッシュ化・ハッシュ値
**データをハッシュ関数を用いて、ハッシュ化（細切れ）する。一定の長さのデータにギュッとする（ギュッとされたものがハッシュ値）。**
- ハッシュ値を比較してデータが改竄されていないか判断する。

## 性質
- データが1bitでも異なるとハッシュ値は異なる
- データが同じだとハッシュ値も同じ
![image](https://user-images.githubusercontent.com/60077121/99602163-5bba2280-2a44-11eb-85df-6626b25fa619.png)

- ハッシュ値からデータには戻せない
- **データのサイズが異なってもハッシュ値は同じサイズ**
  - `SHA-256`で算出されるハッシュ値の長さは256bit（データが1bitでも1GBでも）

## ハッシュ値の用途
### アプリケーションデータが改竄されていないかチェック
- 送信者はデータと共に「このデータのハッシュ値はこれだよ」と受信者に教える。受信者も同じ計算をして同じハッシュ値が得られるかどうか検証する。
- SSLでは上記に加え、`メッセージ認証コード（MAC）`も使用。ハッシュ化の際に共通鍵の要素も加えることで、相手を認証することができる
![image](https://user-images.githubusercontent.com/60077121/99602876-97092100-2a45-11eb-871e-3329853d9df3.png)
